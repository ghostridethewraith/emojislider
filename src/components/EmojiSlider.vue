<template>
  <div id="logo-container">
    <img :src="logo" alt="Logo" />
  </div>
  <form id="slider" @submit.prevent>
    <label
        for="range"
        :style="{ color: getHappinessColor }">–ß–∏—Å—Ç–æ—Ç–∞ –∑–∞–ª–∞: {{ val }}%</label>
    <input v-model.number="val" id="range" type="range" min="0" max="100" @input="logVal">
    <div class="slider outer" aria-hidden="true">
      <label for="range"
             :style="{ width: `${val}%`, borderRadius: greaterThanFifty, background: getSliderBackground }"
             class="slider inner"
      ></label>
      <div class="emoji-container" @click="toggleTopEmoji">
        <span class="emoji top" v-if="showTopEmoji">
          {{ getHappiness }} <!-- –í–µ—Ä—Ö–Ω–∏–π emoji -->
        </span>
        <span class="emoji"
              :style="{ transform: `translateX(${getPlacement}) scale(${getEmojiScale})`}">
          {{ getHappiness }} <!-- –ù–∏–∂–Ω–∏–π emoji -->
        </span>
      </div>
    </div>
  </form>

  <form id="slider" @submit.prevent>
    <label
        for="range"
        :style="{ color: getHappinessColor1 }">–°–µ—Ä–≤–∏—Å: {{ val1 }}%</label>
    <input v-model.number="val1" id="range" type="range" min="0" max="100">
    <div class="slider outer" aria-hidden="true">
      <label for="range"
             :style="{ width: `${val1}%`, borderRadius: greaterThanFifty1, background: getSliderBackground1 }"
             class="slider inner"
      ></label>
      <div class="emoji-container" @click="toggleTopEmoji1">
        <span class="emoji top" v-if="showTopEmoji1">
          {{ getHappiness1 }} <!-- –í–µ—Ä—Ö–Ω–∏–π emoji –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        </span>
        <span class="emoji"
              :style="{ transform: `translateX(${getPlacement1}) scale(${getEmojiScale1})`}">
          {{ getHappiness1 }} <!-- –ù–∏–∂–Ω–∏–π emoji –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        </span>
      </div>
    </div>
  </form>

  <form id="slider" @submit.prevent>
    <label
        for="range"
        :style="{ color: getHappinessColor2 }">–ö–∞—á–µ—Å—Ç–≤–æ –±–ª—é–¥: {{ val2 }}%</label>
    <input v-model.number="val2" id="range" type="range" min="0" max="100">
    <div class="slider outer" aria-hidden="true">
      <label for="range"
             :style="{ width: `${val2}%`, borderRadius: greaterThanFifty2, background: getSliderBackground2 }"
             class="slider inner"
      ></label>
      <div class="emoji-container" @click="toggleTopEmoji2">
        <span class="emoji top" v-if="showTopEmoji2">
          {{ getHappiness2 }} <!-- –í–µ—Ä—Ö–Ω–∏–π emoji –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        </span>
        <span class="emoji"
              :style="{ transform: `translateX(${getPlacement2}) scale(${getEmojiScale2})`}">
          {{ getHappiness2 }} <!-- –ù–∏–∂–Ω–∏–π emoji –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞ -->
        </span>
      </div>
    </div>
  </form>

  <textarea id="myTextarea" name="myTextarea" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>


</template>

<script>
import logo from '@/components/icons/omg-coffee-logo.svg';
export default {
  data() {
    return {
      val: 0,  // –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      val1: 0, // –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      val2: 0,  // –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      showTopEmoji: false, // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ emoji –ø–µ—Ä–≤–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      showTopEmoji1: false, // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      showTopEmoji2: false, // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
      logo,
    };
  },
  mounted() {
    this.val = Math.floor(Math.random() * 101);
    this.val1 = Math.floor(Math.random() * 101);
    this.val2 = Math.floor(Math.random() * 101); // –°–ª—É—á–∞–π–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è val2
  },
  computed: {
    getPlacement() {
      return this.getSliderPlacement(this.val);
    },
    getPlacement1() {
      return this.getSliderPlacement(this.val1);
    },
    getPlacement2() {
      return this.getSliderPlacement(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    },
    greaterThanFifty() {
      return this.isGreaterThanFifty(this.val);
    },
    greaterThanFifty1() {
      return this.isGreaterThanFifty(this.val1);
    },
    greaterThanFifty2() {
      return this.isGreaterThanFifty(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    },
    getHappinessColor() {
      return this.getSliderColor(this.val);
    },
    getHappinessColor1() {
      return this.getSliderColor(this.val1);
    },
    getHappinessColor2() {
      return this.getSliderColor(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    },
    getSliderBackground() {
      return this.getSliderBackgroundStyle(this.val);
    },
    getSliderBackground1() {
      return this.getSliderBackgroundStyle(this.val1);
    },
    getSliderBackground2() {
      return this.getSliderBackgroundStyle(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    },
    getEmojiScale() {
      return this.getEmojiScaling(this.val);
    },
    getEmojiScale1() {
      return this.getEmojiScaling(this.val1);
    },
    getEmojiScale2() {
      return this.getEmojiScaling(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    },
    getHappiness() {
      return this.getMood(this.val);
    },
    getHappiness1() {
      return this.getMood(this.val1);
    },
    getHappiness2() {
      return this.getMood(this.val2); // –ù–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è val2
    }
  },
methods: {
  logVal() {
    console.log('–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ val:', this.val);
  },
  toggleTopEmoji() {
    this.showTopEmoji = !this.showTopEmoji; // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –≤–µ—Ä—Ö–Ω–µ–≥–æ emoji –ø–µ—Ä–≤–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
  },
  toggleTopEmoji1() {
    this.showTopEmoji1 = !this.showTopEmoji1; // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –≤–µ—Ä—Ö–Ω–µ–≥–æ emoji –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–∞–π–¥–µ—Ä–∞
  },
  toggleTopEmoji2() {
    this.showTopEmoji2 = !this.showTopEmoji2; // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –≤–µ—Ä—Ö
  },
    getSliderPlacement(value) {
      return (value * 24.5) + '%';
    },
    isGreaterThanFifty(value) {
      return value > 50 ? 'var(--roundness)' : '0';
    },
    getSliderColor(value) {
      const gStart = 106; // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–µ–ª–µ–Ω–æ–≥–æ
      const gEnd = 85;    // –ö–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–µ–ª–µ–Ω–æ–≥–æ
      const bStart = 13;  // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–∏–Ω–µ–≥–æ
      const bEnd = 133;   // –ö–æ–Ω–µ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–∏–Ω–µ–≥–æ

      const g = gStart + ((gEnd - gStart) / 100 * value);
      const b = bStart + ((bEnd - bStart) / 100 * value);

      return `rgba(255, ${g}, ${Math.floor(b)})`;
    },
    getSliderBackgroundStyle(value) {
      return `linear-gradient(to right, var(--pink), ${(value * -1) + 125}%, var(--pale-pink))`;
    },
    getEmojiScaling(value) {
      return  1 + (value / 75);
    },
    getMood(value) {
      const moods = ["üòî", "üòü", "üòê", "üòä", "üòÅ", "ü•≥", "üòç", "ü§©", "üòé", "ü•∫"];

      if (value === 0) {
        return "üòî"; // –°–º–∞–π–ª –¥–ª—è 0
      } else if (value === 100) {
        return "ü•∫"; // –°–º–∞–π–ª –¥–ª—è 100
      } else {
        return moods[Math.floor(value / 10)];
      }
    },
  }
};
</script>

<style scoped>

@import '../assets/styles/styles.css';
</style>

